name: Generate Semantic Version
description: Generate Semantic Version
    
outputs:
  major:
    description: 'The Major value'
    value: ${{ steps.get-version.outputs.major }}
  minor:
    description: 'The Minor value'
    value: ${{ steps.get-version.outputs.minor }}
  patch:
    description: 'The Patch value'
    value: ${{ steps.get-version.outputs.patch }}
  preReleaseTag:
    description: 'The PreReleaseTag value'
    value: ${{ steps.get-version.outputs.preReleaseTag }}
  preReleaseTagWithDash:
    description: 'The PreReleaseTagWithDash value'
    value: ${{ steps.get-version.outputs.preReleaseTagWithDash }}
  preReleaseLabel:
    description: 'The PreReleaseLabel value'
    value: ${{ steps.get-version.outputs.preReleaseLabel }}
  preReleaseNumber:
    description: 'The PreReleaseNumber value'
    value: ${{ steps.get-version.outputs.preReleaseNumber }}
  weightedPreReleaseNumber:
    description: 'The WeightedPreReleaseNumber value'
    value: ${{ steps.get-version.outputs.weightedPreReleaseNumber }}
  buildMetaData:
    description: 'The BuildMetaData value'
    value: ${{ steps.get-version.outputs.buildMetaData }}
  fullBuildMetaData:
    description: 'The FullBuildMetaData value'
    value: ${{ steps.get-version.outputs.fullBuildMetaData }}
  majorMinorPatch:
    description: 'The MajorMinorPatch value'
    value: ${{ steps.generate.outputs.majorMinorPatch }}
  semVer:
    description: 'The SemVer value'
    value: ${{ steps.get-version.outputs.semVer }}
  assemblySemVer:
    description: 'The AssemblySemVer value'
    value: ${{ steps.get-version.outputs.assemblySemVer }}
  assemblySemFileVer:
    description: 'The AssemblySemFileVer value'
    value: ${{ steps.get-version.outputs.assemblySemFileVer }}
  fullSemVer:
    description: 'The FullSemVer value'
    value: ${{ steps.get-version.outputs.fullSemVer }}
  informationalVersion:
    description: 'The InformationalVersion value'
    value: ${{ steps.get-version.outputs.informationalVersion }}
  branchName:
    description: 'The BranchName value'
    value: ${{ steps.get-version.outputs.branchName }}
  escapedBranchName:
    description: 'The EscapedBranchName value'
    value: ${{ steps.get-version.outputs.escapedBranchName }}
  sha:
    description: 'The Sha value'
    value: ${{ steps.get-version.outputs.sha }}
  shortSha:
    description: 'The ShortSha value'
    value: ${{ steps.get-version.outputs.shortSha }}
  versionSourceSha:
    description: 'The VersionSourceSha value'
    value: ${{ steps.get-version.outputs.versionSourceSha }}
  commitsSinceVersionSource:
    description: 'The CommitsSinceVersionSource value'
    value: ${{ steps.get-version.outputs.commitsSinceVersionSource }}
  uncommittedChanges:
    description: 'The UncommittedChanges value'
    value: ${{ steps.get-version.outputs.uncommittedChanges }}
  commitDate:
    description: 'The CommitDate value'
    value: ${{ steps.get-version.outputs.commitDate }}

runs:
  using: composite
  steps:
    - name: Install GitVersion
      uses: gittools/actions/gitversion/setup@v1.1.1
      with:
        versionSpec: '5.x'

    - name: Get version
      id: get-version
      uses: gittools/actions/gitversion/execute@v1.1.1
      with:
        targetPath: ./
        disableCache: true
        useConfigFile: true
        configFilePath: GitVersion.yml
      env:
        BUILD_NUMBER: ${{ github.run_number }}
